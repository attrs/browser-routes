/*! x-router - attrs */!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){function n(t){if("string"!=typeof t)throw new TypeError("illegal url");p.href=t||"";var e=p.href;e=e.substring(e.indexOf("://")+3),e=~e.indexOf("/")?e.substring(e.indexOf("/")):"/";var r=e;return r=~r.indexOf("?")?r.substring(0,r.indexOf("?")):r,r=~r.indexOf("#")?r.substring(0,r.indexOf("#")):r,{href:p.href,protocol:p.protocol,hostname:p.hostname,port:p.port,pathname:r,fullpath:r+(p.search?p.search:"")+(p.hash?p.hash:""),search:p.search,hash:p.hash,host:p.host}}function o(t,e){var r=document.head.querySelector('meta[name="xrouter.'+t+'"]');return r&&r.getAttribute("content")||e}function i(t){t=t.trim(),"?"===t[0]&&(t=t.substring(1));for(var e,r=/\+/g,n=/([^&=]+)=?([^&]*)/g,o=function(t){return decodeURIComponent(t.replace(r," "))},i={};e=n.exec(t);){var a=o(e[1]),s=o(e[2]);Array.isArray(i[a])?i[a].push(s):i[a]?(i[a]=[i[a]]).push(s):i[a]=s}return i}function a(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent(e,r)}function s(t,e){return e?"/"===e.trim()[0]?e:(t||(t="/"),f.resolve(t,e)):"/"}function u(t){if(t=t||"root",u.apps[t])return u.apps[t];var e,r,o,a,f,l,p="",m=c(t),g={},v={},y={},b=[],w=d(m);u.apps[t]=m,m.timeout=function(t){return"number"!=typeof t?console.warn("illegal timeout "+t):void(a=t)},m.emitter=function(){return w},m.base=function(t){return arguments.length?t?(p=h.dirname(h.resolve(t,"index.html")),this):(p="",this):p};var x=m.get;return m.get=function(t){return arguments.length<=1?y[t]:x.apply(m,arguments)},m.set=function(t,e){return y[t]=e,"debug"===t&&(m.debug=e),this},m.router=function(t){return c(t)},m.util={evalhtml:function(t){var e=document.createElement("div");e.innerHTML=t;var r=document.createDocumentFragment();return[].forEach.call(e.childNodes,function(t){r.appendChild(t)}),e.innerHTML="",r},ajax:function(t,e){if(!t)throw new Error("missing src");var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("GET",t,!0),r.onreadystatechange=function(t){4==this.readyState&&(0==this.status||this.status>=200&&this.status<300?e.call(m,null,this.responseText):e.call(m,new Error("["+this.status+"] "+this.responseText)))},r.send()}},m.fullhref=function(t){var e=s(m.state(),t);return(p||"")+e},m.engine=function(t,e){return 1===arguments.length?v[t]||u.engine(t):(v[t]=e,this)},m.on("replace",function(t){m.debug&&console.info("replaced",t.detail),l=t.detail.replaced;var e=t.detail.request;e.options.writestate!==!1&&(b[b.length-1]=t.detail.replaced,m.fire("changestate",{state:e.parentURL+e.url,request:e,response:t.detail.response}))}),m.state=function(t){return t=+t||0,b[b.length-1+t]},m.laststate=function(){return console.warn("[x-router] router.laststate() is deprecated, use router.state() instead"),b[b.length-1]},m.lasthref=function(){return console.warn("[x-router] router.lasthref() is deprecated, use router.referer() instead"),f},m.history=function(){return b},m.referer=function(){return f},m.reload=function(t){if(t=t!==!1){var e=m.state();if(e)return m.href(e,null,{force:!0})}else if(l)return m.href(l,null,{force:!0})},m.href=function(t,s,u){if(!arguments.length)return l;if("boolean"==typeof s&&(u={writestate:s},s=null),"boolean"==typeof u&&(u={writestate:u}),u&&"object"==typeof u||(u={}),!t)return console.error("[x-router] missing url");if("number"==typeof t&&(q+=""),"string"!=typeof t)return console.error("[x-router] illegal type of url");var v=m.fullhref(t),x=v.substring(p.length)||"/",O=n(x||""),q=O.pathname,j=u.force===!0;if(u.writestate===!1&&(j=!0),m.get("always")===!0&&(j=!0),m.debug&&console.info("href",t,{fullhref:v,href:x,url:q,force:j,prevstate:m.state(),referer:l,writestate:u.writestate}),j||l!==O.fullpath){f=l,l=O.fullpath,u.writestate!==!1&&(b.push(O.fullpath),b.length>30&&(b=b.slice(b.length-30))),m.debug&&console.info("request",l),e=c("hash"),w=d(m);var S={};r=m.request={referer:f||"",app:m,requesthref:t,originalhref:t,fullhref:v,href:O.fullpath,parsed:O,baseURL:p,method:"get",url:q||"/",options:u,hash:O.hash,hashname:O.hash,query:i(O.search),params:{},body:s||{},session:g,get:function(t){return console.warn("Deprecated: use response.get"),S[t]},set:function(t,e){return console.warn("Deprecated: use response.set"),null===e||void 0===e?delete S[t]:S[t]=e,this}};var E=function(t,e,n){2==arguments.length&&"function"==typeof e&&(n=e,e=null);var i,a=function(t,e){if(t)return n?n.call(this,t):console.error(t);var r=[].slice.call(arguments,1),o=[null,d];n&&n.apply(this,o.concat(r))},s={};if(!t)return a(new Error("missing src"));if("string"==typeof t){var u=h.extname(t).substring(1).toLowerCase(),f=S["view engine"]||y["view engine"]||"default",c=e&&e.engine||u||f,l=S.views||y.views||"/";if(i=m.engine(c)||m.engine(f),!i)return a(new Error("not exists engine: "+c));~t.indexOf("://")||0===t.indexOf("//")?s.src=t:("/"===t.trim()[0]&&(t="."+t),s.src=h.join(l,t))}else{if("object"!=typeof t)return a(new Error("illegal type of src: "+typeof t));var f=S["view engine"]||y["view engine"]||"default",c=e&&e.engine||function(){for(var e in t)if(m.engine(e))return e}();if(i=m.engine(c)||m.engine(f),!i)return a(new Error("not exists engine: "+c));s.html=t[c||"html"]}if(e||(e={}),"string"==typeof e&&(e={target:e}),"object"!=typeof e)return a(new TypeError("options must be an object or string(target)"));for(var p in e)s[p]=e[p];var d=s.target||S["view target"]||y["view target"];return"string"==typeof d&&(d=document.querySelector(d)),d?(s.target=d,m.fire("beforerender",{fullhref:v,href:O.fullpath,options:s,src:t,target:d,url:r.currentURL,request:r,response:o})&&i.call(m,s,function(e){return e?a(e):(m.fire("render",{fullhref:v,href:O.fullpath,options:s,src:t,target:d,url:r.currentURL,request:r,response:o}),d.xrouter=m,d.xrouter_url=r.currentURL,void a.apply(this,arguments))}),this):a(new Error("view target not found: "+(s.target||S["view target"]||y["view target"])))};E.html=function(t,e,r){return"string"!=typeof t?r&&r(new Error("html must be a string")):(t={html:t},E.apply(this,arguments),this)};var P=!1;return o=m.response={render:E,get:function(t){return S[t]},set:function(t,e){return null===e||void 0===e?delete S[t]:S[t]=e,this},hash:function(t,r){return e.get("#"+t,r),this},redirect:function(t,e,n){return o.end(),n=n||{},n.redirect=!0,e=e||r.body||{},"#"!==t[0]&&"/"!==t[0]&&(t=h.resolve(h.join(r.parentURL,r.url),t)),m.fire("redirect",{fullhref:v,href:O.fullpath,options:n,referer:f,url:r.currentURL,to:t,requested:arguments[0],request:r,response:o}),m.href(t,e,n),this},emit:function(t,e){return emmitter.emit(t,e)},end:function(){return P?console.warn("[x-router] request '"+r.href+"' already finished."):(P=!0,void m.fire("end",{fullhref:v,href:O.fullpath,url:r.currentURL,request:r,response:o}))}},a>0&&setTimeout(function(){P||(console.warn("[x-router] router timeout("+a+")"),o.end())},a),m.fire("request",{fullhref:v,href:O.fullpath,url:q,request:r,response:o}),u.writestate!==!1&&m.fire("changestate",{state:q,request:r,response:o}),m(r,o),this}},m.on("*",function(t){t.app=m,t.stopped||u.fire(t)}),m}var h=r(1),f=r(3),c=r(10),l="*[route], *[data-route], *[routes], *[data-routes]";!function(){String.prototype.endsWith||(String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),Array.prototype.forEach||(Array.prototype.forEach=function(t){for(var e=0;e<this.length;e++)t.apply(this,[this[e],e,this])}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var r=e||0;r<this.length;r++)if(this[r]==t)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t,e){var e=e?parseInt(e,10):this.length-1;for(e<0&&(e=this.length+e),e;e>-1;e--)if(this[e]===t)return e;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),document.head||(document.head=document.getElementsByTagName("head")[0])}(),document.head||(document.head=document.getElementsByTagName("head")[0]);var p=document.createElement("a"),d=function(t){var e={},r=function(t,r){return e[t]=e[t]||[],e[t].push(r),this},n=function(t,e){var r=function(n){return o(t,r),e.call(this,n)};return body.on(t,r),this},o=function(t,r){var n=e[t];if(n)for(var o;~(o=n.indexOf(r));)n.splice(o,1);return this},i=function(r,n){var o=e[r];return(o||[]).forEach(function(e){e.call(t||this,n)}),this};return{on:r,once:n,off:o,emit:i}},m="true"===o("debug");!function(){var t,e={},r={},n={},o=function(r){return arguments.length?(t=r,this):t||e.root},i=function(t){return e[t||"root"]},a=function(){var t=o();return t?t.href.apply(t,arguments):console.warn("[x-router] not yet initialized")},s=function(){var t=o();return t?t.reload.apply(t,arguments):console.warn("[x-router] not yet initialized")},h=function(){var t=o();return t?t.referer.apply(t,arguments):console.warn("[x-router] not yet initialized")},f=function(){var t=o();return t?t.state.apply(t,arguments):console.warn("[x-router] not yet initialized")},l=function(){var t=o();return t?t.laststate.apply(t,arguments):console.warn("[x-router] not yet initialized")},p=function(){var t=o();return t?t.lasthref.apply(t,arguments):console.warn("[x-router] not yet initialized")},d=function(){var t=o();return t?t.history.apply(t,arguments):console.warn("[x-router] not yet initialized")},m=function(){var t=o();return t?t.emitter():console.warn("[x-router] not yet initialized")},g=function(t,e){return r[t]=r[t]||[],r[t].push(e),this},v=function(t,e){var r=function(n){return y(t,r),e.call(u,n)};return g(t,r),this},y=function(t,e){var n=r[t];if(n)for(var o;~(o=n.indexOf(e));)n.splice(o,1);return this},b=function(t){if(r[t.type]){var e=!1,n=!1,o=function(r){e||(r.call(this,t),t.defaultPrevented===!0&&(n=!0),t.stoppedImmediate===!0&&(e=!0))};return r[t.type].forEach(o),!n}},w=function(t,e){return 1===arguments.length?n[t]:(n[t]=e,this)};u.apps=e,u.get=i,u.Router=c,u.current=o,u.reload=s,u.href=a,u.history=d,u.referer=h,u.state=f,u.engine=w,u.on=g,u.once=v,u.off=y,u.fire=b,u.emitter=m,u.lasthref=p,u.laststate=l}(),u.engine("default",function(t,e){var r=t.target,n=t.src,o=t.html,i=function(t,n){return t?e(t):("object"==typeof n&&n.html&&(n=n.html),"string"!=typeof n?e(new Error("html must be a string")):(r.innerHTML=n,void e()))};n?this.util.ajax(n,i):o?i(null,o):e(new Error("missing src or html"))}),t.exports=u,function(){function t(){function t(t){return t.__xrouter_scan__||(t.__xrouter_scan__=!0,t.onroute=null,t.onrouteresponse=null,t.onrouterequest=null,t.onclick=function(e){if(!e.defaultPrevented){var r=t.getAttribute("data-route")||t.getAttribute("route")||t.getAttribute("routes"),n=t.hasAttribute("data-ghost")||t.hasAttribute("ghost"),o=t.getAttribute("data-href")||t.getAttribute("href")||"";if(!x(o)){(!O||O>8)&&e.preventDefault();var i,a=r?u.get(r):function(){for(var e=t;e;){if(e.xrouter_url&&(i=e.xrouter_url),e.xrouter)return e.xrouter;e=e.parentNode}}()||u.current();return i&&(o=s(i,o)),a?(o&&a.href(o,{srcElement:t},{writestate:!n}),!1):console.error("[x-router] router not found: "+(r||"(root)"))}}}),this}function n(){return[].forEach.call(document.querySelectorAll(l),t),this}n(),r()&&("hash"===e?u.href(i(location.hash.substring(1))):"pushstate"===e&&u.href(i(location.href))),"false"!==o("observe")&&(window.MutationObserver?(w&&w.disconnect(),w=new MutationObserver(function(e){e.forEach(function(e){[].forEach.call(e.addedNodes,function(e){1===e.nodeType&&((e.hasAttribute("route")||e.hasAttribute("routes"))&&t(e),(e.hasAttribute("data-route")||e.hasAttribute("data-routes"))&&t(e),e.querySelectorAll&&[].forEach.call(e.querySelectorAll(l),t))})})}),w.observe(document.body,{childList:!0,subtree:!0})):window.setInterval(n,+o("observe.delay")||1e3))}var e=o("mode")||(history.pushState?"pushstate":"hash");~["pushstate","hash","none","auto"].indexOf(e)?"auto"===e?e=history.pushState?"pushstate":"hash":"pushstate"!==e||history.pushState||(console.warn("[x-router] browser does not support `history.pushState`"),e="hash"):(console.warn("[x-router] unsupported mode: "+e),e=history.pushState?"pushstate":"hash"),m&&console.info("xrouter.mode",o("mode"),e);var r=function(){return u.current()},i=function(t){t=t||"/";var e=r().base()||"";return t=n(t).fullpath,t.indexOf(e)?t:t.substring(e.length)};if("pushstate"===e){if(!history.pushState)return console.error("[x-router] browser does not support 'history.pushState'");var f,c=history.pushState,p=history.replaceState,d={},g=0;history.pushState=function(t,e,r){var n=g++ +"";d[n]=t,f=n,c.call(history,n,null,r),u.href(i(location.href),t)},history.replaceState=function(t,e,r){delete d[f];var n=g++ +"";d[n]=t,f=n,p.call(history,n,null,r),u.href(i(location.href),t,{replacestate:!0})},window.onpopstate=function(t){var e=d[t.state];delete d[t.state],u.href(i(location.href),e,{pop:!0}),r().fire("writestate",{href:i(location.href),body:e,push:!1,replace:!1,pop:!0})};var v=function(t,e){var n=g++ +"";d[n]=e,f=n,c.call(history,n,null,t),r().fire("writestate",{href:t,body:e,push:!0,replace:!1,pop:!1})},y=function(t,e){delete d[f];var n=g++ +"";d[n]=e,f=n,p.call(history,n,null,t),r().fire("writestate",{href:t,body:e,push:!1,replace:!0,pop:!1})};u.on("replace",function(t){if(r()===t.app){var e=t.detail.request.options;if(!e.pop&&e.writestate!==!1){var n=h.join(t.app.base(),t.detail.replaced);y(n,t.detail.request.body)}}}),u.on("request",function(t){if(r()===t.app){var e=t.detail.fullhref,n=t.detail.request.body,o=t.detail.request.options;o.pop||o.writestate===!1||(o.replacestate||o.redirect?y(e,n):v(e,n))}})}else if("hash"===e){var b;a(window,"hashchange",function(){var t=location.hash.substring(1);t!==b&&t&&u.href(location.hash.substring(1))});var y=function(t,e){b=t,location.replace("#"+t),r().fire("writestate",{href:t,body:e,push:!1,replace:!0,pop:!1})},v=function(t,e){b=t,location.assign("#"+t),r().fire("writestate",{href:t,body:e,push:!0,replace:!1,pop:!1})};u.on("replace",function(t){if(r()===t.app){var e=t.detail.request.options;if(!e.pop&&e.writestate!==!1){var n=h.join(t.app.base(),t.detail.replaced);y(n,t.detail.request.body)}}}),u.on("request",function(t){if(r()===t.app){var e=t.detail.fullhref,n=t.detail.request.body,o=t.detail.request.options;o.pop||o.writestate===!1||(o.replacestate||o.redirect?y(e,n):v(e,n))}})}if(!window.xrouter){var w,x=function(t){var e=t.indexOf(":"),r=t.indexOf("/");return~e&&e<r||0===t.indexOf("//")||0===t.toLowerCase().indexOf("javascript:")},O=function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("msie")!=-1&&parseInt(t.split("msie")[1])}();document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function(){window.setTimeout(t,1)}):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&window.setTimeout(t,1)}),window.route=function(){console.warn("[x-router] window.route() is deprecated(will be removed in 0.4.x), use window.xrouter.href()");var t=r();t.href.apply(t,arguments)},window.xrouter=u}}()},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return e=r(n(e.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),i="/"===a(t,-1);return t=r(n(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),s=a,u=0;u<a;u++)if(o[u]!==i[u]){s=u;break}for(var h=[],u=s;u<o.length;u++)h.push("..");return h=h.concat(i.slice(s)),h.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(2))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):g=-1,d.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=d.length;e;){for(p=d,d=[];++g<e;)p&&p[g].run();g=-1,e=d.length}p=null,m=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var f,c,l=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var p,d=[],m=!1,g=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||m||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=h,l.addListener=h,l.once=h,l.off=h,l.removeListener=h,l.removeAllListeners=h,l.emit=h,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,r){if(t&&h.isObject(t)&&t instanceof n)return t;var o=new n;return o.parse(t,e,r),o}function i(t){return h.isString(t)&&(t=o(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return o(t,!1,!0).resolve(e)}function s(t,e){return t?o(t,!1,!0).resolveObject(e):e}var u=r(4),h=r(6);e.parse=o,e.resolve=a,e.resolveObject=s,e.format=i,e.Url=n;var f=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(p),m=["'"].concat(d),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],y=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},O={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=r(7);n.prototype.parse=function(t,e,r){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=n!==-1&&n<t.indexOf("#")?"?":"#",i=t.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),t=i.join(o);var s=t;if(s=s.trim(),!r&&1===t.split("#").length){var c=l.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=j.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=f.exec(s);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,s=s.substr(p.length)}if(r||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||p&&O[p]||(s=s.substr(2),this.slashes=!0)}if(!O[p]&&(S||p&&!q[p])){for(var E=-1,P=0;P<v.length;P++){var A=s.indexOf(v[P]);A!==-1&&(E===-1||A<E)&&(E=A)}var T,L;L=E===-1?s.lastIndexOf("@"):s.lastIndexOf("@",E),L!==-1&&(T=s.slice(0,L),s=s.slice(L+1),this.auth=decodeURIComponent(T)),E=-1;for(var P=0;P<g.length;P++){var A=s.indexOf(g[P]);A!==-1&&(E===-1||A<E)&&(E=A)}E===-1&&(E=s.length),this.host=s.slice(0,E),s=s.slice(E),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var U=this.hostname.split(/\./),P=0,C=U.length;P<C;P++){var I=U[P];if(I&&!I.match(b)){for(var _="",k=0,z=I.length;k<z;k++)_+=I.charCodeAt(k)>127?"x":I[k];if(!_.match(b)){var M=U.slice(0,P),N=U.slice(P+1),$=I.match(w);$&&(M.push($[1]),N.unshift($[2])),N.length&&(s="/"+N.join(".")+s),this.hostname=M.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var W=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+W,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!x[d])for(var P=0,C=m.length;P<C;P++){var D=m[P];if(s.indexOf(D)!==-1){var F=encodeURIComponent(D);F===D&&(F=escape(D)),s=s.split(D).join(F)}}var Q=s.indexOf("#");Q!==-1&&(this.hash=s.substr(Q),s=s.slice(0,Q));var X=s.indexOf("?");if(X!==-1?(this.search=s.substr(X),this.query=s.substr(X+1),e&&(this.query=j.parse(this.query)),s=s.slice(0,X)):e&&(this.search="",this.query={}),s&&(this.pathname=s),q[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var W=this.pathname||"",B=this.search||"";this.path=W+B}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(i=j.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||q[e])&&o!==!1?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+o+r+a+n},n.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var f=s[u];"protocol"!==f&&(r[f]=t[f])}return q[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!q[t.protocol]){for(var c=Object.keys(t),l=0;l<c.length;l++){var p=c[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||O[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||v||r.host&&t.pathname,w=b,x=r.pathname&&r.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],j=r.protocol&&!q[r.protocol];if(j&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),b=b&&(""===d[0]||""===x[0])),y)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),r.search=t.search,r.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(j){r.hostname=r.host=x.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=x.slice(-1)[0],P=(r.host||t.host||x.length>1)&&("."===E||".."===E)||""===E,A=0,T=x.length;T>=0;T--)E=x[T],"."===E?x.splice(T,1):".."===E?(x.splice(T,1),A++):A&&(x.splice(T,1),A--);if(!b&&!w)for(;A--;A)x.unshift("..");!b||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),P&&"/"!==x.join("/").substr(-1)&&x.push("");var L=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(j){r.hostname=r.host=L?"":x.length?x.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return b=b||r.host&&x.length,b&&!L&&x.unshift(""),x.length?r.pathname=x.join("/"):(r.pathname=null,r.path=null),h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){var n;(function(t,o){!function(i){function a(t){throw RangeError(U[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function u(t,e){var r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(R,".");var o=t.split("."),i=s(o,e).join(".");return n+i}function h(t){for(var e,r,n=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function f(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=_(t>>>10&1023|55296),t=56320|1023&t),e+=_(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function l(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,r){var n=0;for(t=r?I(t/S):t>>1,t+=I(t/e);t>C*q>>1;n+=x)t=I(t/C);return I(n+(C+1)*t/(t+j))}function d(t){var e,r,n,o,i,s,u,h,l,d,m=[],g=t.length,v=0,y=P,b=E;for(r=t.lastIndexOf(A),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&a("not-basic"),m.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<g;){for(i=v,s=1,u=x;o>=g&&a("invalid-input"),h=c(t.charCodeAt(o++)),(h>=x||h>I((w-v)/s))&&a("overflow"),v+=h*s,l=u<=b?O:u>=b+q?q:u-b,!(h<l);u+=x)d=x-l,s>I(w/d)&&a("overflow"),s*=d;e=m.length+1,b=p(v-i,e,0==i),I(v/e)>w-y&&a("overflow"),y+=I(v/e),v%=e,m.splice(v++,0,y)}return f(m)}function m(t){var e,r,n,o,i,s,u,f,c,d,m,g,v,y,b,j=[];for(t=h(t),g=t.length,e=P,r=0,i=E,s=0;s<g;++s)m=t[s],m<128&&j.push(_(m));for(n=o=j.length,o&&j.push(A);n<g;){for(u=w,s=0;s<g;++s)m=t[s],m>=e&&m<u&&(u=m);for(v=n+1,u-e>I((w-r)/v)&&a("overflow"),r+=(u-e)*v,e=u,s=0;s<g;++s)if(m=t[s],m<e&&++r>w&&a("overflow"),m==e){for(f=r,c=x;d=c<=i?O:c>=i+q?q:c-i,!(f<d);c+=x)b=f-d,y=x-d,j.push(_(l(d+b%y,0))),f=I(b/y);j.push(_(l(f,0))),i=p(r,v,n==o),r=0,++n}++r,++e}return j.join("")}function g(t){return u(t,function(t){return T.test(t)?d(t.slice(4).toLowerCase()):t})}function v(t){return u(t,function(t){return L.test(t)?"xn--"+m(t):t})}var y=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof o&&o);y.global!==y&&y.window!==y&&y.self!==y||(i=y);var b,w=2147483647,x=36,O=1,q=26,j=38,S=700,E=72,P=128,A="-",T=/^xn--/,L=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=x-O,I=Math.floor,_=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:h,encode:f},decode:d,encode:m,toASCII:v,toUnicode:g},n=function(){return b}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(5)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(8),e.encode=e.stringify=r(9)},function(t,e){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(e);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var h=0;h<u;++h){var f,c,l,p,d=t[h].replace(a,"%20"),m=d.indexOf(n);m>=0?(f=d.substr(0,m),c=d.substr(m+1)):(f=d,c=""),l=decodeURIComponent(f),p=decodeURIComponent(c),r(i,l)?Array.isArray(i[l])?i[l].push(p):i[l]=[i[l],p]:i[l]=p}return i}},function(t,e){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,o){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(o){var i=encodeURIComponent(r(o))+n;return Array.isArray(t[o])?t[o].map(function(t){return i+encodeURIComponent(r(t))}).join(e):i+encodeURIComponent(r(t[o]))}).join(e):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(t)):""}},function(t,e,r){function n(t,e){var r=t.toLowerCase().indexOf(e);return r>0&&r===t.length-e.length}function o(t,e){var r=h.fromString(t),n=h.fromString(t+"/*after");return{match:function(o){if("/"===t)return!!e||t===o;if(r.matches(o))return r.match(o).namedParams;if(e&&n.matches(o)){var i=n.match(o).namedParams;return delete i.after,i}return!1},matches:function(t){return!!pattern.matches(t)||!(!e||!n.matches(t))}}}function i(t,e){if("/"===t[0]&&(t=t.substring(1)),"/"===e[0]&&(e=e.substring(1)),n(t,"/")&&(t=t.substring(0,t.length-1)),n(e,"/")&&(e=e.substring(0,e.length-1)),!t)return{sub:"/"+e,parent:"/"};for(;~t.indexOf("//");)t.split("//").join("/");for(;~e.indexOf("//");)e.split("//").join("/");t=t.split("/"),e=e.split("/");for(var r=[],o=[],i=0;i<e.length;i++){if(t[i]&&":"!==t[i][0]&&e[i]!==t[i])return null;i>=t.length?r.push(e[i]):o.push(e[i])}return{parent:"/"+o.join("/"),sub:"/"+r.join("/")}}function a(){var t={};return[].forEach.call(arguments,function(e){if(e&&"object"==typeof e)for(var r in e)t[r]=e[r]}),t}function s(t){t=t||Math.random()+""||"unknwon";var e,r=!0,n=[],s={},h=function(o,s,f){if(!o.url||"/"!==o.url[0])return console.error("illegal state: url not defined in request: ",o.url);e=null,f=f||function(){},o.app=o.app||h;var c=o.parentURL||"",l=o.url,p=o.params||{},d=0,m=!1,g=function(e){
return m?console.error("next function twice called.",t,e):(m=!0,o.url=l,o.parentURL=c,o.params=p,e?(h.fire("error",{router:h,href:o.href,url:o.currentURL,request:o,response:s,error:e}),f(e)):(h.fire("notfound",{router:h,href:o.href,url:o.currentURL,request:o,response:s}),void f()))};setTimeout(function(){r=!1},1);var v=function(t){if(t)return g(t);var e=n[d++];if(!e)return g();if(!r&&"boot"===e.type)return v();var f=e.pattern&&e.pattern.match(o.url);if(!f)return v();o.params=a(p,f);var m=e.fn,y=e.path,b=e.type;if("string"==typeof m){if(m=m.trim(),m.indexOf("/")&&m.indexOf("..")){var w=o.href||"",x=w;return x=~x.indexOf("?")?x.substring(0,x.indexOf("?")):x,x=~x.indexOf("#")?x.substring(0,x.indexOf("#")):x,x=~x.indexOf("&")?x.substring(0,x.indexOf("&")):x,x=w.substring(x.length),o.url=l="/"+m.split("./").join(""),o.href=u.join(o.parentURL,o.url)+x,h.fire("replace",{previous:w,replaced:o.href,request:o,response:s}),v()}return s.redirect&&s.redirect(u.resolve(o.parentURL,m))}var O=o.parentURL=c,q=o.url=l,j=i(y,q),S=u.join(c,j.parent);o.boot=r,o.currentURL=S,m.__router__&&(q=o.url=j.sub,O=o.parentURL=S),h.fire("route",{routetype:b,config:e,url:S,href:o.href,fn:m,params:f,boot:r,request:o,response:s}),e.fn.apply(h,[o,s,v])};v()};h.id=t,h.__router__=c;var l=function(t){if(t&&t===h)throw new Error("cannot add router itself: "+t.id);return t.__router__===c&&(t.parent=h),t};return h.exists=function(t){var e=!1;return n.forEach(function(r){if(!e)if("get"===r.type){var n=r.pattern.match(t);n&&(e=!0)}else"use"===r.type&&(e=r.fn.exists(t.substring(r.path.length)))}),e},h.use=function(t,e){if("function"==typeof t&&(e=t,t="/"),"string"!=typeof t)throw new TypeError("illegal type of path:"+typeof t);return n.push({type:"use",path:t||"/",pattern:o(t,!0),fn:l(e)}),this},h.get=function(t,e){if("function"==typeof t&&(e=t,t="/"),"string"!=typeof t)throw new TypeError("illegal type of path:"+typeof t);return n.push({type:"get",path:t||"/",pattern:o(t),fn:e}),this},h.boot=function(t,e){if("function"==typeof t&&(e=t,t="/"),"string"!=typeof t)throw new TypeError("illegal type of path:"+typeof t);return n.push({type:"boot",path:t||"/",pattern:o(t,!0),fn:l(e)}),this},h.notfound=function(t){return h.on("notfound",t),this},h.error=function(t){return h.on("error",t),this},h.drop=function(t){var e=[];return n.forEach(function(r){r.fn===t&&e.push(r)}),e.forEach(function(t){n.splice(n.indexOf(t),1)}),this},h.clear=function(){return n=[],this},h.on=function(t,e){return s[t]=s[t]||[],s[t].push(e),this},h.once=function(t,e){var r=function(n){return h.off(t,r),e.call(this,n)};return h.on(t,r),this},h.off=function(t,e){var r=s[t];if(r)for(var n;~(n=r.indexOf(e));)r.splice(n,1);return this},h.fire=function(t,e){var r=t&&t.type||t;if(s[r]||s["*"]||~["route","replace"].indexOf(r)&&h.parent){var n;if("string"==typeof t)n=f.createEvent(t,e,h);else{if(!(t instanceof f))return console.error("illegal arguments, type is must be a string or event",t);n=t}n.currentTarget=h;var o=!1,i=!1,a=function(t,e){o||(t.call(e,n),n.defaultPrevented===!0&&(i=!0),n.stoppedImmediate===!0&&(o=!0))};return(s["*"]||[]).forEach(a,h),(s[n.type]||[]).forEach(a,h),~["route","replace"].indexOf(n.type)&&h.parent&&h.parent!==h&&h.parent.fire(n),!i}},h.hasListener=function(t){if("function"==typeof t){var e=!1;return s.forEach(function(r){e||r===t&&(e=!0)}),e}return!(!s[t]||!s[t].length)},h}var u=r(1),h=r(11),f=r(12),c={};t.exports=s},function(t,e,r){function n(){return[].slice.call(arguments).reduce(function(t,e){for(var r in e)t[r]=e[r];return t},{})}function o(t){var e=/([^\?#]*)?(\?[^#]*)?(#.*)?$/,r=e.exec(t);return{path:r[1]||"",queryString:r[2]&&r[2].substring(1)||"",hash:r[3]&&r[3].substring(1)||""}}var i=r(7),a=function(){function t(t){this.params=t.params,this.allowWildcards=t.allowWildcards,this.routeString=t.routeString}return t.prototype.matches=function(t){for(var e,r=(t||"").split("&").reduce(function(t,e){var r=e.split("="),n=r[0],o=r[1];return n&&(t[n]=o),t},{}),n=[].concat(this.params);e=n.shift();){if(!r.hasOwnProperty(e.key))return!1;if(e.value&&r[e.key]!=e.value)return!1}return!(!this.allowWildcards&&this.params.length&&Object.getOwnPropertyNames(r).length>this.params.length)},t.prototype.match=function(t){if(!this.matches(t))return null;var e={params:[],namedParams:{},namedQueryParams:{}};if(!t)return e;var r=this.params.reduce(function(t,e){return t[e.key]=e.name,t},{}),n=i.parse(t);return Object.keys(n).forEach(function(t){var o=n[t];e.params.push(o),r[t]&&(e.namedQueryParams[r[t]]=e.namedParams[r[t]]=o)}),e},t.fromString=function(e){var r={routeString:e,allowWildcards:!1,params:[]};return e.split("&").forEach(function(t){if(t){var e=t.split("="),n=e[0],o=e[1]||"",i=!1,a={key:n};":"==o.charAt(0)?a.name=o.substring(1):"*"==n&&""==o?i=r.allowWildcards=!0:a.value=o,i||r.params.push(a)}}),new t(r)},t}(),s=function(){function t(t){this.regexp=t.regexp,this.params=t.params,this.routeString=t.routeString}var e=/:\w+/g,r=/\*\w+/g,n=/(:[^\/\.]+)|(\*\w+)/g,o=/\*/g,i=/[-[\]{}()+?.,\\^$|#\s]/g;return t.prototype.matches=function(t){return this.regexp.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var e={params:[],namedParams:{}};return(this.regexp.exec(t)||[]).slice(1).forEach(function(t,r){void 0!==t&&(t=decodeURIComponent(t)),e.namedParams[this.params[r]]=t,e.params.push(t)},this),e},t.routePathToRegexp=function(t){return t=t.replace(i,"\\$&").replace(e,"([^/]+)").replace(r,"(.*)?").replace(o,".*?").replace(/\/?$/,"/?"),new RegExp("^/?"+t+"$")},t.fromString=function(e){e=e.split(/\?|#/)[0];var r={routeString:e,regexp:t.routePathToRegexp(e),params:(e.match(n)||[]).map(function(t){return t.substring(1)})};return new t(r)},t}(),u=function(){function t(t){this.regex=t}return t.prototype.matches=function(t){return this.regex.test(t)},t.prototype.match=function(t){if(!this.matches(t))return null;var e=o(t);return{params:this.regex.exec(t).slice(1),queryParams:i.parse(e.queryString),namedParams:{}}},t}(),h=function(){function t(t){this.pathPattern=t.pathPattern,this.queryStringPattern=t.queryStringPattern,this.hashPattern=t.hashPattern,this.routeString=t.routeString}return t.prototype.matches=function(t){var e=o(t);return(!this.pathPattern||this.pathPattern.matches(e.path))&&(!this.queryStringPattern||this.queryStringPattern.matches(e.queryString))&&(!this.hashPattern||this.hashPattern.matches(e.hash))},t.prototype.match=function(t){if(!this.matches(t))return null;var e,r,a=o(t),s={params:[],namedParams:{},pathParams:{},queryParams:i.parse(a.queryString),namedQueryParams:{},hashParams:{}},u=function(t){s.params=s.params.concat(t.params),s.namedParams=n(s.namedParams,t.namedParams)};return(r=this.pathPattern)&&(e=r.match(a.path),e&&u(e),s.pathParams=e?e.namedParams:{}),(r=this.queryStringPattern)&&(e=r.match(a.queryString),e&&u(e),s.namedQueryParams=e?e.namedQueryParams:{}),(r=this.hashPattern)&&(e=r.match(a.hash),e&&u(e),s.hashParams=e?e.namedParams:{}),s},t.fromString=function(e){var r=o(e),n=r.path,i=r.queryString||e.indexOf("?")>-1,u=r.hash||e.indexOf("#")>-1;return new t({pathPattern:n&&s.fromString(r.path),queryStringPattern:i&&a.fromString(r.queryString),hashPattern:u&&s.fromString(r.hash),routeString:e})},t}();t.exports=h,h.QueryStringPattern=a,h.PathPattern=s,h.RegExpPattern=u},function(t,e){function r(t,e,r,n){this.type=t,this.detail=e||{},this.target=this.currentTarget=r,this.cancelable=n===!0,this.defaultPrevented=!1,this.stopped=!1,this.timeStamp=(new Date).getTime()}r.prototype={preventDefault:function(){this.cancelable&&(this.defaultPrevented=!0)},stopPropagation:function(){this.stopped=!0},stopImmediatePropagation:function(){this.stoppedImmediate=!0}},r.createEvent=function(t,e,n,o){return new r(t,e,n,o)},t.exports=r}])});